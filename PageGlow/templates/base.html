{% load static %}
{% load glow_tags %}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ title }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" href="{% static 'main/css/app.css' %}" rel="stylesheet"/>
</head>
<body class="{% block body_class %}{% endblock %}">
<header class="site-header">
    <div class="pg-container header-inner">
        <button id="burger" class="header__burger-menu">
            <span></span><span></span><span></span>
        </button>
        <a class="brand" href="{% url 'home' %}">PageGlow</a>

        <nav class="top-nav" aria-label="Основное меню">
            <ul class="menu-list">
            {% for m in mainmenu %}
                <li><a class="menu_link" href="{% url m.url_name %}">{{ m.title }}</a></li>
            {% endfor %}
            </ul>
        </nav>

        <div class="user-area">
            <a href="#">
                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="24" height="24" viewBox="0,0,256,256">
                    <g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(10.66667,10.66667)"><path d="M22,20l-2,2l-6,-6v-2h2z"></path><path d="M9,16c-3.9,0 -7,-3.1 -7,-7c0,-3.9 3.1,-7 7,-7c3.9,0 7,3.1 7,7c0,3.9 -3.1,7 -7,7zM9,4c-2.8,0 -5,2.2 -5,5c0,2.8 2.2,5 5,5c2.8,0 5,-2.2 5,-5c0,-2.8 -2.2,-5 -5,-5z"></path><path transform="translate(-5.90254,14.24719) rotate(-44.992)" d="M13.7,12.5h1v3.5h-1z"></path></g></g>
                </svg>
            </a>
            {% if user.is_authenticated %}
                <a class="user-profile" href="{% url 'users:profile' %}">{{ user.username }}</a>
                {% if user.photo %}
                    <img class="user-avatar" src="{{ user.photo.url }}" alt="Аватар пользователя">
                {% else %}
                    <img class="user-avatar" src="{{ default_image }}" alt="Аватар пользователя">
                {% endif %}
            {% else %}
                <a class="login-pill" href="{% url 'users:login' %}">Войти</a>
            {% endif %}
        </div>
    </div>
</header>
<main class="page">
    <div class="pg-container layout">
        <div class="content">
            {% block content %}{% endblock %}
        </div>

        <aside class="sidebar" aria-label="Боковая панель">
            {% block sidebar %}{% endblock %}
            {% show_categories %}
            {% show_all_tags %}
        </aside>
    </div>

    <div class="pg-container">
        {% block navigation %}{% endblock %}
    </div>
</main>
<footer class="site-footer">
  <div class="pg-container footer-container">
    <div class="footer-logo">
      <h3>PageGlow</h3>
    </div>


    <nav class="footer-nav">
        <p>Ссылки</p>
      <ul>
        {% for m in mainmenu %}
           <li><a href="{% url m.url_name %}">{{ m.title }}</a></li>
        {% endfor %}
      </ul>
    </nav>

    <div class="footer-contacts">
      <p>Email: <a href="mailto:info@pageglow.com">pageglow3@gmail.com</a></p>
      <p>Телефон: <a href="tel:+74951234567">+7 (495) 123‑45‑67</a></p>
    </div>

    <div class="footer-social">
      <a href="https://t.me/pageglow">Telegram</a>
      <a href="https://vk.com/pageglow">VK</a>
      <a href="https://github.com/pageglow">GitHub</a>
    </div>

    <div class="footer-copyright">
      <p>&copy; 2026 PageGlow. Все права защищены.</p>
    </div>
  </div>
</footer>
{% block extra_js %}{% endblock %}
    <script>
document.addEventListener('DOMContentLoaded', () => {
  const burger = document.getElementById('burger');
  const menu = document.getElementById('menu');

  burger.addEventListener('click', () => {
  document.querySelector('.site-header').classList.toggle('open');
});

});

</script>
</body>
</html>