!function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"Choose language":"Choose language",Language:"Language","Remove language":"Remove language"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),
/*!
 * @license Copyright (c) 2003-2026, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(()=>{var e={237:e=>{"use strict";e.exports=CKEditor5.dll},311:(e,t,n)=>{e.exports=n(237)("./src/ui.js")},584:(e,t,n)=>{e.exports=n(237)("./src/utils.js")},782:(e,t,n)=>{e.exports=n(237)("./src/core.js")},783:(e,t,n)=>{e.exports=n(237)("./src/engine.js")}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{"use strict";n.r(a),n.d(a,{TextPartLanguage:()=>d,TextPartLanguageCommand:()=>g,TextPartLanguageEditing:()=>u,TextPartLanguageUI:()=>l,_parseLanguageAttribute:()=>r,_stringifyLanguageAttribute:()=>o});var e=n(782),t=n(783),i=n(584);function o(e,t){return`${e}:${t=t||(0,i.getLanguageDirection)(e)}`}function r(e){const[t,n]=e.split(":");return{languageCode:t,textDirection:n}}class g extends e.Command{refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"language")}execute({languageCode:e,textDirection:n}={}){const a=this.editor.model,i=a.document.selection,r=!!e&&o(e,n);a.change(e=>{if(i.isCollapsed)r?e.setSelectionAttribute("language",r):e.removeSelectionAttribute("language");else{const n=a.schema.getValidRanges(i.getRanges(),"language",{includeEmptyRanges:!0});for(const a of n){let n=a,i="language";a.isCollapsed&&(n=a.start.parent,i=t.ModelDocumentSelection._getStoreAttributeKey("language")),r?e.setAttribute(i,r,n):e.removeAttribute(i,n)}}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.getAttribute("language")||!1;for(const e of n.getRanges())for(const n of e.getItems())if(t.checkAttribute(n,"language"))return n.getAttribute("language")||!1;return!1}}class u extends e.Plugin{static get pluginName(){return"TextPartLanguageEditing"}static get isOfficialPlugin(){return!0}constructor(e){super(e),e.config.define("language",{textPartLanguage:[{title:"Arabic",languageCode:"ar"},{title:"French",languageCode:"fr"},{title:"Spanish",languageCode:"es"}]})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"language"}),e.model.schema.setAttributeProperties("language",{copyOnEnter:!0}),this._defineConverters(),e.commands.add("textPartLanguage",new g(e))}_defineConverters(){const e=this.editor.conversion;e.for("upcast").elementToAttribute({model:{key:"language",value:e=>o(e.getAttribute("lang"),e.getAttribute("dir"))},view:{name:"span",attributes:{lang:/[\s\S]+/}}}),e.for("downcast").attributeToElement({model:"language",view:(e,{writer:t},n)=>{if(!e)return;if(!n.item.is("$textProxy")&&!n.item.is("documentSelection"))return;const{languageCode:a,textDirection:i}=r(e);return t.createAttributeElement("span",{lang:a,dir:i})}})}}var s=n(311);class l extends e.Plugin{static get pluginName(){return"TextPartLanguageUI"}static get isOfficialPlugin(){return!0}init(){const e=this.editor,t=e.t,n=t("Choose language"),a=t("Language");e.ui.componentFactory.add("textPartLanguage",t=>{const{definitions:i,titles:o}=this._getItemMetadata(),r=e.commands.get("textPartLanguage"),g=(0,s.createDropdown)(t);return(0,s.addListToDropdown)(g,i,{ariaLabel:a,role:"menu"}),g.buttonView.set({ariaLabel:a,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:a}),g.extendTemplate({attributes:{class:["ck-text-fragment-language-dropdown"]}}),g.bind("isEnabled").to(r,"isEnabled"),g.buttonView.bind("label").to(r,"value",e=>e&&o[e]||n),g.buttonView.bind("ariaLabel").to(r,"value",e=>{const t=e&&o[e];return t?`${t}, ${a}`:a}),this.listenTo(g,"execute",t=>{r.execute({languageCode:t.source.languageCode,textDirection:t.source.textDirection}),e.editing.view.focus()}),g}),e.ui.componentFactory.add("menuBar:textPartLanguage",n=>{const{definitions:i}=this._getItemMetadata(),o=e.commands.get("textPartLanguage"),r=new s.MenuBarMenuView(n);r.buttonView.set({label:a});const g=new s.MenuBarMenuListView(n);g.set({ariaLabel:t("Language"),role:"menu"});for(const e of i){if("button"!=e.type){g.items.add(new s.ListSeparatorView(n));continue}const t=new s.MenuBarMenuListItemView(n,r),a=new s.MenuBarMenuListItemButtonView(n);a.set({role:"menuitemradio",isToggleable:!0}),a.bind(...Object.keys(e.model)).to(e.model),a.delegate("execute").to(r),t.children.add(a),g.items.add(t)}return r.bind("isEnabled").to(o,"isEnabled"),r.panelView.children.add(g),r.on("execute",t=>{o.execute({languageCode:t.source.languageCode,textDirection:t.source.textDirection}),e.editing.view.focus()}),r})}_getItemMetadata(){const e=this.editor,t=new i.Collection,n={},a=e.commands.get("textPartLanguage"),r=e.config.get("language.textPartLanguage"),g=(0,e.locale.t)("Remove language");t.add({type:"button",model:new s.UIModel({label:g,languageCode:!1,withText:!0})}),t.add({type:"separator"});for(const e of r){const i={type:"button",model:new s.UIModel({label:e.title,languageCode:e.languageCode,role:"menuitemradio",textDirection:e.textDirection,withText:!0})},r=o(e.languageCode,e.textDirection);i.model.bind("isOn").to(a,"value",e=>e===r),t.add(i),n[r]=e.title}return{definitions:t,titles:n}}}class d extends e.Plugin{static get requires(){return[u,l]}static get pluginName(){return"TextPartLanguage"}static get isOfficialPlugin(){return!0}}})(),(window.CKEditor5=window.CKEditor5||{}).language=a})();